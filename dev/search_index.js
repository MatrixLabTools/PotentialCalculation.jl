var documenterSearchIndex = {"docs":
[{"location":"install/#Install-1","page":"Install","title":"Install","text":"","category":"section"},{"location":"install/#","page":"Install","title":"Install","text":"Start Julia and hit \"]\" to enter into pkg REPL, after that type","category":"page"},{"location":"install/#","page":"Install","title":"Install","text":"pkg> add registry add https://github.com/MatrixLabTools/PackageRegistry\npkg> add PotentialCalculation","category":"page"},{"location":"install/#","page":"Install","title":"Install","text":"Currently there are two backends, ORCA and Psi4. To do any calculation, you need to have at least one of these installed.","category":"page"},{"location":"install/#Testing-installation-1","page":"Install","title":"Testing installation","text":"","category":"section"},{"location":"install/#","page":"Install","title":"Install","text":"pkg> test PotentialCalculation","category":"page"},{"location":"install/#","page":"Install","title":"Install","text":"checking for backends is made:","category":"page"},{"location":"install/#","page":"Install","title":"Install","text":"Search PATH for orca-executable, for ORCA backend\nTrying to import psi4 python module","category":"page"},{"location":"install/#","page":"Install","title":"Install","text":"If either of these succeeds then that backend is tested.","category":"page"},{"location":"install/#","page":"Install","title":"Install","text":"note: Note\nWhen doing calculations with ORCA you can specify orca-binary location and thus it is not necessary for it to be in PATH. Only testing need it to be in PATH. Also using ORCA to do parallel calculations (using ORCA with more than one core) requires explicit specification of orca-binary location.","category":"page"},{"location":"reference/#Reference-1","page":"References","title":"Reference","text":"","category":"section"},{"location":"reference/#","page":"References","title":"References","text":"Modules = [PotentialCalculation]\nOrder   = [:function, :type]","category":"page"},{"location":"#PotentialCalculation.jl-1","page":"Home","title":"PotentialCalculation.jl Documentation","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"PotentialCalculation, PotentialFitting and PotentialDB together form a group of packages that can be used to calculate, fit and store molecular potentials, used on QM-MM simulations of noble gas matrix isolation experiments.","category":"page"},{"location":"#Features-1","page":"Home","title":"Features","text":"","category":"section"},{"location":"#[PotentialCalculation](https://github.com/MatrixLabTools/PotentialCalculation.jl)-1","page":"Home","title":"PotentialCalculation","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"Calculate potentials with ORCA or Psi4\nAutomatic sampling of calculation points\nSupports parallelisation of calculation across compute nodes","category":"page"},{"location":"#[PotentialFitting](https://github.com/MatrixLabTools/PotentialFitting.jl)-1","page":"Home","title":"PotentialFitting","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"Define new potentials easily\nFit potential using methods provided by ScikitLearn","category":"page"},{"location":"#[PotentialDB](https://github.com/MatrixLabTools/PotentialDB.jl)-1","page":"Home","title":"PotentialDB","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"Store computed data\nPublic storage to computed data\nEasily manage calculated potentials","category":"page"},{"location":"#Contents-1","page":"Home","title":"Contents","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"Pages = [\"install.md\", \"use.md\", \"reference.md\"]","category":"page"},{"location":"use/#Using-PotentialCalculation-1","page":"Usage","title":"Using PotentialCalculation","text":"","category":"section"},{"location":"use/#Basic-usage-1","page":"Usage","title":"Basic usage","text":"","category":"section"},{"location":"use/#","page":"Usage","title":"Usage","text":"Load package","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"using PotentialCalculation","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"or if using parallelization (recommended).","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"using Distributed\n@everywhere using PotentialCalculation","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"note: Note\nDo not forget to use @everywhere macro when importing PotentialCalculation!","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"Creating inputs and doing basic calculation, where two molecules are calculated with various distances and orientations from each other.","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"# Creating calculation method\nmp2 = Calculator(\n        \"RI-MP2 RIJK TIGHTSCF\",\n        \"aug-cc-pVTZ aug-cc-pVTZ/C def2/JK\",\n         Orca()\n      )\n\n# Creating argon atom\nAr = Cluster(zeros(3), AtomOnlySymbol(\"Ar\"))\n\n# File where other molecule is taken\ntrajfile=\"Some trajectory.xyz\"\n\n# Create input for calculations\ninputs = create_inputs(\n            trajfile,    # First molecule will be picked from here\n            Ar,          # Second molecule will be picked from here\n            mp2;         # Calculator to do electronic structure calculations\n            nsaples=32,  # How many lines are calculated\n            max_e=10000, # Maximum energy in cm⁻¹ -\n                         #   limit to areas where energy is less than this\n            npoints=50   # Number of points per line\n        )  \n\n# Do calculation\ndata = calculate_potential(inputs, save_file=\"save file\")","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"The molecules used in the input can be created by hand or read from xyz-trajectory (recommended). If trajectory file (or array of Cluster) are used, then random points of them are picked for the calculation.","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"New calculations with different method can be done on previous points.","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"#New method\nccf12 = Calculator(\n           \"CCSD(T)-F12/RI TIGHTSCF\",\n           \"cc-pVDZ-F12 cc-pVDZ-F12-CABS cc-pVTZ/C\",\n           Orca(maxmem=4000)\n        )\n\ndata2 = calculate_potential(\n          \"previous results file\",\n          ccf12,  # Calculate with this method now\n          save_file=\"new save file\",\n          restart_file=\"restart file\"\n       )","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"To restart calculations from restart file.","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"data3 = continue_calculation(\n          \"restart file\",\n          Orca(maxmem=4000),\n          save_file=\"final save file\",\n          restart_file=\"new restart file\"\n        )","category":"page"},{"location":"use/#Calculators-1","page":"Usage","title":"Calculators","text":"","category":"section"},{"location":"use/#","page":"Usage","title":"Usage","text":"PotentilaCalculation can use either Orca or Psi4 as a backend for calculations.","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"To create ORCA calculator you can use","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"Orca(\n   executable=\"path to orca binary\",\n   maxmem=4000,\n   ncore=1,\n   tmp_dir=\"directory where calculations are done\"\n)","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"If you are using ncore>1 then you need specify executable, in other cases PATH is searched for orca-binary. tmp_dir is by default created in $TMP.","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"For Psi4 use","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"using PotentialCalculation.psi4\n\nPsi4(\n   memory=\"1GiB\",\n   nthreads=1,\n)","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"You need to import Psi4 explicitly with using PotentialCalculation.psi4. All Psi4 global environmental variables are present. To access them you need to use PotentialCalculation.psi4.gPsi4-handel after using PotentialCalculation.psi4.initpsi()-function to initialize Psi4 environment.","category":"page"},{"location":"use/#Adding-Calculation-Method-and-Basis-Set-1","page":"Usage","title":"Adding Calculation Method and Basis Set","text":"","category":"section"},{"location":"use/#","page":"Usage","title":"Usage","text":"Backend calculators are then combined with calculation method and basis set, to create Calculator structure that has all the information needed to perform electronic structure calculations.","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"This is done with","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"Calculator(\n   \"Method\",\n   \"Basis\",\n   Orca()    # Backend program\n)","category":"page"},{"location":"use/#General-Structure-of-Calculations-1","page":"Usage","title":"General Structure of Calculations","text":"","category":"section"},{"location":"use/#.-Sampling-1","page":"Usage","title":"1. Sampling","text":"","category":"section"},{"location":"use/#","page":"Usage","title":"Usage","text":"Fist phase of calculations is sampling of calculations points. It is recommended that is is done with some cheap method, like RI-MP2 or DFT. The sampling should then verrified to be acceptable, which cane be done with visualization tools from PotentialFitting.","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"General points are:","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"npoints needs to be at least 50 for potential to catch rapid changes around minimum.\nmax_e defines usability of the potential, if you just need simple spectrum 5000 cm⁻¹ is probably enough, but for other cases you might need more. Default value is 15000 cm⁻¹, which is good for everything else exept high excitation simulations.\nGenerate first trajectory with some variability in molecule geometry. PotentialCalculation can then sample points out of it, so that the calculated potential energy surface has greater applicability.\nDefault search parameters have been tested with several molecules and are probably fine.","category":"page"},{"location":"use/#.-Calculation-1","page":"Usage","title":"2. Calculation","text":"","category":"section"},{"location":"use/#","page":"Usage","title":"Usage","text":"In second phase of calculation final potential is generated. To do this, it is recommended to use good method. For small molecules CCSD(T)-F12, with basis set limit approximation, is doable and thus recommended. That is, when using ORCA, you should use something like","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"ccf12 = Calculator(\n           \"CCSD(T)-F12/RI TIGHTSCF\",\n           \"cc-pVDZ-F12 cc-pVDZ-F12-CABS cc-pVTZ/C\",\n           Orca(maxmem=4000)\n        )","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"For larger molecules ORCA has DLPNO-CCSD(T)-F12, but in the limited testing that method had some jumps in the potential and was thus deemed to not be a good one. But it might be ok, with some tuning of DLPNO-parameters.","category":"page"},{"location":"use/#.-Fitting-1","page":"Usage","title":"3. Fitting","text":"","category":"section"},{"location":"use/#","page":"Usage","title":"Usage","text":"Third phase is fitting of potential and that is done with PotentialFitting.","category":"page"},{"location":"use/#.-Storing/Sharing-potential-1","page":"Usage","title":"4. Storing/Sharing potential","text":"","category":"section"},{"location":"use/#","page":"Usage","title":"Usage","text":"To store or share potential you can use PotentialDB.","category":"page"},{"location":"use/#Using-with-SLURM/PBS-etc.-1","page":"Usage","title":"Using with SLURM/PBS etc.","text":"","category":"section"},{"location":"use/#","page":"Usage","title":"Usage","text":"Julia supports use of various scheduling software like Slurm or PBS etc. trough ClusterManagers.jl package. It is recommended that when you use any these, you should use ClusterMangers to add processes.","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"To PotentialCalculation with Slurm simply start with","category":"page"},{"location":"use/#","page":"Usage","title":"Usage","text":"using Distributed\nusing ClusterManagers\n\naddprocs_slurm(number_of_processes) # ntasks option in Slurm job file\n@everywhere using PotentialCalculation","category":"page"}]
}
